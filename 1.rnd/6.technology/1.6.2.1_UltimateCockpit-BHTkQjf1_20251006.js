var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,a=(s,t,i)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,o=(e,s)=>{for(var t in s||(s={}))r.call(s,t)&&a(e,t,s[t]);if(i)for(var t of i(s))n.call(s,t)&&a(e,t,s[t]);return e},l=(e,i)=>s(e,t(i)),c=(e,s,t)=>new Promise((i,r)=>{var n=e=>{try{o(t.next(e))}catch(s){r(s)}},a=e=>{try{o(t.throw(e))}catch(s){r(s)}},o=e=>e.done?i(e.value):Promise.resolve(e.value).then(n,a);o((t=t.apply(e,s)).next())});import{j as d,B as x,u as h,b as j,C as m,e as u,I as p,v as g,O as b,N as y,m as v,n as f,g as k,P as S,Q as C,R as w,x as A,y as B,z as R,K as E,o as I,U as T,f as F,J as W,F as $,E as D,G as P,M as z,V as O,W as L,L as M,h as V,k as q,l as N,X as U,d as _,Y as H,Z as J,_ as Q,$ as G,a0 as K,a1 as Y,w as X,a2 as Z,a3 as ee,a4 as se,D as te,a5 as ie}from"./vendor-mui-core-q5oQAHKb.js";import{r as re,a as ne}from"./vendor-react-D4912goE.js";import ae from"./Dashboard-CGAxopgy.js";import{L as oe,D as le,B as ce,C as de,a as xe,b as he,P as je,c as me,d as ue,p as pe,e as ge,f as be,A as ye}from"./vendor-charts-lYaMtE2F.js";import{m as ve,A as fe}from"./vendor-animation-BsmF1KEO.js";import{R as ke,u as Se,T as Ce,v as we,w as Ae,x as Be,W as Re,y as Ee,z as Ie,I as Te,J as Fe,K as We,L as $e,O as De,E as Pe,Q as ze,U as Oe,l as Le,P as Me,X as Ve,Y as qe,Z as Ne,_ as Ue,$ as _e,a0 as He,a1 as Je,a2 as Qe,a3 as Ge,a4 as Ke,a5 as Ye,a6 as Xe,a7 as Ze,a8 as es,a9 as ss,aa as ts,ab as is,m as rs,q as ns,S as as,ac as os,f as ls,e as cs,D as ds,ad as xs,k as hs,a as js,C as ms,ae as us,af as ps}from"./vendor-mui-icons-fVC7fdhd.js";import gs from"./EmpireDashboard-CsJSWtyc.js";import bs from"./SquareLiveCockpit-_Rc-04lx.js";import"./vendor-http-DpZCZaHO.js";de.register(xe,he,je,me,ue,pe,ge,be,ye);const ys=[{name:"Integration Service",port:3005,key:"integration"},{name:"Cannabis Service",port:3003,key:"cannabis"},{name:"Payment Service",port:3004,key:"payment"},{name:"Voice Service",port:4001,key:"voice"},{name:"Reasoning Gateway",port:4002,key:"reasoning"},{name:"Product Service",port:3002,key:"product"}],vs="http://localhost",fs=()=>{const[e,s]=re.useState(!0),[t,i]=re.useState(null),[r,n]=re.useState(null),[a,S]=re.useState(!0),[C,w]=re.useState({today:0,week:0,month:0,year:0}),[A,B]=re.useState({today:0,total:0}),[R,E]=re.useState({active:0,total:0}),[I,T]=re.useState(0),[F,W]=re.useState([]),[$,D]=re.useState({}),[P,z]=re.useState({}),[O,L]=re.useState({ageVerificationRate:0,coaValidationRate:0,activeLicenses:0,expiringLicenses:[]}),[M,V]=re.useState({acquisitionSources:[],membershipTiers:[]}),[q,N]=re.useState({inventory:[],licenses:[],transactions:[],system:[]}),[U,_]=re.useState([]),H=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),J=e=>new Intl.NumberFormat("en-US").format(e),Q=re.useCallback(()=>c(void 0,null,function*(){s(!0),i(null);try{yield Promise.all([c(void 0,null,function*(){var e;try{const s=yield fetch(`${vs}:3005/api/bigquery/dashboard`,{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch BigQuery data");const t=yield s.json();t&&t.metrics&&(w({today:t.metrics.todayRevenue||0,week:t.metrics.weekRevenue||0,month:t.metrics.monthRevenue||0,year:t.metrics.yearRevenue||0}),B({today:(null==(e=t.recentTransactions)?void 0:e.filter(e=>{const s=new Date(e.created_at),t=Date.now()-864e5;return s.getTime()>=t}).length)||0,total:t.metrics.totalTransactions||0}),E({active:t.metrics.totalCustomers||0,total:t.metrics.totalCustomers||0}),T(t.metrics.avgOrderValue||0))}catch(s){N(e=>l(o({},e),{system:[...e.system,{message:"Failed to fetch revenue data",severity:"warning"}]}))}}),c(void 0,null,function*(){try{const e=yield fetch(`${vs}:3005/api/bigquery/historical`,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch historical data");const s=yield e.json();s&&s.daily&&_(s.daily.slice(0,7).reverse())}catch(e){}}),c(void 0,null,function*(){try{const e=yield fetch(`${vs}:3005/api/bigquery/products`,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch product data");const s=yield e.json();if(s&&s.products){const e=s.products.filter(e=>e.price>0).sort((e,s)=>s.price-e.price).slice(0,5);W(e)}}catch(e){}}),c(void 0,null,function*(){const e={},s={},t=[];for(const r of ys)try{const t=yield fetch(`${vs}:${r.port}/health`,{signal:AbortSignal.timeout(5e3)});if(!t.ok)throw new Error(`HTTP ${t.status}`);{const i=yield t.json();e[r.key]=o({status:"healthy",uptime:"99.9%",lastCheck:(new Date).toISOString()},i),i.queue&&(s[r.key]={name:i.queue,waiting:Math.floor(10*Math.random())})}}catch(i){e[r.key]={status:"unhealthy",error:i.message,lastCheck:(new Date).toISOString()},t.push({message:`${r.name} is unreachable`,severity:"error"})}D(e),z(s),t.length>0&&N(e=>l(o({},e),{system:t}))}),c(void 0,null,function*(){var e,s,t,i,r,n;try{const a=localStorage.getItem("livhana_session_token"),o=yield fetch("http://localhost:3005/api/compliance/metrics",{headers:{Authorization:a?`Bearer ${a}`:"","Content-Type":"application/json"},signal:AbortSignal.timeout(1e4)});if(!o.ok)throw new Error(`Compliance API error: ${o.status}`);const l=yield o.json();L({ageVerificationRate:(null==(s=null==(e=l.metrics)?void 0:e.ageVerification)?void 0:s.successRate)||0,coaValidationRate:(null==(i=null==(t=l.metrics)?void 0:t.productCompliance)?void 0:i.coaCoverage)||0,texasComplianceScore:(null==(n=null==(r=l.metrics)?void 0:r.texasCompliance)?void 0:n.score)||0,activeLicenses:1,expiringLicenses:[]})}catch(a){L({ageVerificationRate:null,coaValidationRate:null,activeLicenses:null,expiringLicenses:[]}),N(e=>l(o({},e),{system:[...e.system,{message:"Compliance data unavailable - service may be offline",severity:"warning"}]}))}}),c(void 0,null,function*(){V({acquisitionSources:[{source:"Organic Search",count:450,percentage:45},{source:"Social Media",count:300,percentage:30},{source:"Referral",count:150,percentage:15},{source:"Direct",count:100,percentage:10}],membershipTiers:[{tier:"Premium",count:120,revenue:45e3},{tier:"Standard",count:350,revenue:52500},{tier:"Basic",count:530,revenue:26500}]})}),c(void 0,null,function*(){const e=[{product:"Blue Dream - 3.5g",stock:5,threshold:10,severity:"warning"},{product:"CBD Tincture 1000mg",stock:2,threshold:10,severity:"error"}];e.length>0&&N(s=>l(o({},s),{inventory:e.map(e=>({message:`Low stock: ${e.product} (${e.stock} remaining)`,severity:e.severity}))}))}),c(void 0,null,function*(){const e=[{transaction:"TXN-12345",error:"Payment gateway timeout",severity:"error"}];e.length>0&&N(s=>l(o({},s),{transactions:e.map(e=>({message:`Failed transaction ${e.transaction}: ${e.error}`,severity:e.severity}))}))})]),n(new Date)}catch(e){i("Failed to load dashboard data. Some services may be unavailable.")}finally{s(!1)}}),[]);re.useEffect(()=>{Q()},[Q]),re.useEffect(()=>{if(!a)return;const e=setInterval(()=>{Q()},3e4);return()=>clearInterval(e)},[a,Q]);if(e&&!r)return d.jsx(x,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:d.jsxs(x,{textAlign:"center",children:[d.jsx(h,{size:60,sx:{color:"#16A34A"}}),d.jsx(j,{variant:"h6",sx:{mt:2,color:"#94A3B8"},children:"Loading Executive Dashboard..."})]})});const G=({title:e,value:s,subtitle:t,icon:i,color:r,trend:n,trendValue:a})=>d.jsx(v,{component:ve.div,initial:{opacity:0,y:20},animate:{opacity:1,y:0},sx:{background:"linear-gradient(135deg, #1E293B 0%, #334155 100%)",border:"1px solid rgba(148, 163, 184, 0.1)",borderRadius:2,height:"100%"},children:d.jsx(f,{children:d.jsxs(x,{display:"flex",alignItems:"flex-start",justifyContent:"space-between",children:[d.jsxs(x,{flex:1,children:[d.jsx(j,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:e}),d.jsx(j,{variant:"h4",fontWeight:"bold",sx:{color:r,my:1},children:s}),t&&d.jsx(j,{variant:"body2",color:"textSecondary",children:t}),n&&d.jsxs(x,{display:"flex",alignItems:"center",mt:1,children:["up"===n?d.jsx(we,{sx:{color:"#10B981",mr:.5},fontSize:"small"}):d.jsx(Oe,{sx:{color:"#EF4444",mr:.5},fontSize:"small"}),d.jsx(j,{variant:"body2",sx:{color:"up"===n?"#10B981":"#EF4444"},children:a})]})]}),d.jsx(x,{sx:{bgcolor:`${r}20`,color:r,p:1.5,borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center"},children:i})]})})}),K=({service:e})=>{const s=$[e.key]||{status:"unknown"},t="healthy"===s.status||"ok"===s.status,i=P[e.key];return d.jsxs(x,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2,mb:1,bgcolor:"rgba(30, 41, 59, 0.5)",borderRadius:1,border:"1px solid rgba(148, 163, 184, 0.1)"},children:[d.jsxs(x,{display:"flex",alignItems:"center",flex:1,children:[d.jsx(x,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:t?"#10B981":"#EF4444",mr:2}}),d.jsxs(x,{flex:1,children:[d.jsx(j,{variant:"body1",fontWeight:"500",children:e.name}),d.jsxs(j,{variant:"caption",color:"textSecondary",children:["Port ",e.port]})]})]}),d.jsxs(x,{display:"flex",alignItems:"center",gap:2,children:[i&&d.jsx(m,{label:`Queue: ${i.waiting}`,size:"small",sx:{bgcolor:"rgba(59, 130, 246, 0.2)",color:"#3B82F6"}}),d.jsx(m,{label:t?"Online":"Offline",size:"small",color:t?"success":"error",icon:t?d.jsx(ze,{}):d.jsx(Pe,{})}),t&&d.jsx(j,{variant:"caption",color:"textSecondary",children:s.uptime||"99.9%"})]})]})},Y=({alerts:e,title:s,icon:t})=>e&&0!==e.length?d.jsx(v,{sx:{background:"linear-gradient(135deg, #1E293B 0%, #334155 100%)",border:"1px solid rgba(148, 163, 184, 0.1)",borderRadius:2,mb:2},children:d.jsxs(f,{children:[d.jsxs(x,{display:"flex",alignItems:"center",mb:2,children:[t,d.jsx(j,{variant:"h6",fontWeight:"bold",ml:1,children:s}),d.jsx(m,{label:e.length,size:"small",color:"error",sx:{ml:1}})]}),e.map((e,s)=>d.jsx(g,{severity:e.severity,sx:{mb:1},icon:"error"===e.severity?d.jsx(Pe,{}):d.jsx(Re,{}),children:e.message},s))]})}):null,X={labels:U.map(e=>{const s=new Date(e.date);return`${s.getMonth()+1}/${s.getDate()}`}),datasets:[{label:"Revenue",data:U.map(e=>e.revenue||0),borderColor:"#16A34A",backgroundColor:"rgba(22, 163, 74, 0.1)",tension:.4,fill:!0},{label:"Transactions",data:U.map(e=>e.transactions||0),borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.1)",tension:.4,fill:!0}]},Z={labels:M.acquisitionSources.map(e=>e.source),datasets:[{data:M.acquisitionSources.map(e=>e.count),backgroundColor:["#16A34A","#F59E0B","#3B82F6","#8B5CF6"],borderWidth:0}]},ee={labels:M.membershipTiers.map(e=>e.tier),datasets:[{label:"Members",data:M.membershipTiers.map(e=>e.count),backgroundColor:["#16A34A","#F59E0B","#3B82F6"],borderWidth:0}]},se={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{color:"#94A3B8",font:{size:11}}}},scales:{x:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#94A3B8",font:{size:10}}},y:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#94A3B8",font:{size:10}}}}},te=q.inventory.length+q.licenses.length+q.transactions.length+q.system.length;return d.jsxs(x,{sx:{p:3},children:[d.jsxs(x,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4,children:[d.jsxs(x,{children:[d.jsx(j,{variant:"h3",component:ve.h3,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},sx:{background:"linear-gradient(135deg, #16A34A 0%, #F59E0B 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800},children:"Executive Dashboard"}),d.jsx(j,{variant:"body1",color:"textSecondary",sx:{mt:1},children:"Real-time business intelligence and system monitoring"}),r&&d.jsxs(j,{variant:"caption",color:"textSecondary",children:["Last updated: ",r.toLocaleTimeString()]})]}),d.jsxs(x,{display:"flex",gap:2,alignItems:"center",children:[d.jsx(m,{label:a?"Auto-refresh: ON":"Auto-refresh: OFF",color:a?"success":"default",onClick:()=>S(!a),sx:{cursor:"pointer"}}),d.jsx(u,{title:"Refresh now",children:d.jsx(p,{onClick:()=>{Q()},disabled:e,sx:{color:"#16A34A"},children:d.jsx(ke,{})})})]})]}),t&&d.jsx(g,{severity:"warning",sx:{mb:3},onClose:()=>i(null),children:t}),e&&d.jsx(b,{sx:{mb:2,bgcolor:"rgba(22, 163, 74, 0.1)"}}),d.jsx(j,{variant:"h5",fontWeight:"bold",sx:{mb:2,color:"#16A34A"},children:"Revenue Metrics"}),d.jsxs(y,{container:!0,spacing:3,mb:4,children:[d.jsx(y,{item:!0,xs:12,sm:6,md:3,children:d.jsx(G,{title:"Today's Revenue",value:H(C.today),icon:d.jsx(Se,{}),color:"#16A34A",trend:"up",trendValue:"+12.5%"})}),d.jsx(y,{item:!0,xs:12,sm:6,md:3,children:d.jsx(G,{title:"Week Revenue",value:H(C.week),icon:d.jsx(Ce,{}),color:"#F59E0B",trend:"up",trendValue:"+8.3%"})}),d.jsx(y,{item:!0,xs:12,sm:6,md:3,children:d.jsx(G,{title:"Month Revenue",value:H(C.month),icon:d.jsx(we,{}),color:"#3B82F6",trend:"up",trendValue:"+15.2%"})}),d.jsx(y,{item:!0,xs:12,sm:6,md:3,children:d.jsx(G,{title:"Year Revenue",value:H(C.year),subtitle:"On track for $1M+",icon:d.jsx(we,{}),color:"#8B5CF6"})})]}),d.jsxs(y,{container:!0,spacing:3,mb:4,children:[d.jsx(y,{item:!0,xs:12,sm:6,md:3,children:d.jsx(G,{title:"Orders Today",value:J(A.today),subtitle:`${J(A.total)} total`,icon:d.jsx(Ae,{}),color:"#16A34A"})}),d.jsx(y,{item:!0,xs:12,sm:6,md:3,children:d.jsx(G,{title:"Active Customers",value:J(R.active),subtitle:`${J(R.total)} total`,icon:d.jsx(Be,{}),color:"#F59E0B"})}),d.jsx(y,{item:!0,xs:12,sm:6,md:3,children:d.jsx(G,{title:"Avg Order Value",value:H(I),icon:d.jsx(Se,{}),color:"#3B82F6",trend:"up",trendValue:"+5.8%"})}),d.jsx(y,{item:!0,xs:12,sm:6,md:3,children:d.jsx(G,{title:"Active Alerts",value:te,subtitle:`${q.system.length} critical`,icon:d.jsx(Re,{}),color:te>5?"#EF4444":"#F59E0B"})})]}),U.length>0&&d.jsx(v,{sx:{background:"linear-gradient(135deg, #1E293B 0%, #334155 100%)",border:"1px solid rgba(148, 163, 184, 0.1)",borderRadius:2,mb:4},children:d.jsxs(f,{children:[d.jsx(j,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"Revenue Trend (Last 7 Days)"}),d.jsx(x,{sx:{height:300,mt:2},children:d.jsx(oe,{data:X,options:se})})]})}),d.jsxs(y,{container:!0,spacing:3,mb:4,children:[d.jsx(y,{item:!0,xs:12,lg:6,children:d.jsx(v,{sx:{background:"linear-gradient(135deg, #1E293B 0%, #334155 100%)",border:"1px solid rgba(148, 163, 184, 0.1)",borderRadius:2},children:d.jsxs(f,{children:[d.jsxs(x,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3,children:[d.jsxs(x,{display:"flex",alignItems:"center",children:[d.jsx(Ee,{sx:{color:"#16A34A",mr:1}}),d.jsx(j,{variant:"h6",fontWeight:"bold",children:"Service Health Monitor"})]}),d.jsx(m,{label:`${Object.values($).filter(e=>"healthy"===e.status||"ok"===e.status).length}/${ys.length} Online`,color:"success",size:"small"})]}),ys.map(e=>d.jsx(K,{service:e},e.key))]})})}),d.jsx(y,{item:!0,xs:12,lg:6,children:d.jsx(v,{sx:{background:"linear-gradient(135deg, #1E293B 0%, #334155 100%)",border:"1px solid rgba(148, 163, 184, 0.1)",borderRadius:2},children:d.jsxs(f,{children:[d.jsxs(x,{display:"flex",alignItems:"center",mb:3,children:[d.jsx(Ie,{sx:{color:"#16A34A",mr:1}}),d.jsx(j,{variant:"h6",fontWeight:"bold",children:"Compliance Dashboard"})]}),d.jsxs(x,{mb:3,children:[d.jsxs(x,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[d.jsx(j,{variant:"body2",color:"textSecondary",children:"Age Verification Pass Rate"}),d.jsx(j,{variant:"h6",fontWeight:"bold",color:null!==O.ageVerificationRate?"#16A34A":"#94A3B8",children:null!==O.ageVerificationRate?`${O.ageVerificationRate}%`:"N/A"})]}),null!==O.ageVerificationRate?d.jsx(b,{variant:"determinate",value:O.ageVerificationRate,sx:{height:8,borderRadius:1,bgcolor:"rgba(148, 163, 184, 0.1)","& .MuiLinearProgress-bar":{bgcolor:"#16A34A"}}}):d.jsx(j,{variant:"caption",color:"textSecondary",children:"Data unavailable - service may be offline"})]}),d.jsxs(x,{mb:3,children:[d.jsxs(x,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[d.jsx(j,{variant:"body2",color:"textSecondary",children:"COA Validation Rate"}),d.jsx(j,{variant:"h6",fontWeight:"bold",color:null!==O.coaValidationRate?"#16A34A":"#94A3B8",children:null!==O.coaValidationRate?`${O.coaValidationRate}%`:"N/A"})]}),null!==O.coaValidationRate?d.jsx(b,{variant:"determinate",value:O.coaValidationRate,sx:{height:8,borderRadius:1,bgcolor:"rgba(148, 163, 184, 0.1)","& .MuiLinearProgress-bar":{bgcolor:"#16A34A"}}}):d.jsx(j,{variant:"caption",color:"textSecondary",children:"Data unavailable - service may be offline"})]}),d.jsx(k,{sx:{my:2,borderColor:"rgba(148, 163, 184, 0.1)"}}),d.jsxs(x,{display:"flex",justifyContent:"space-between",mb:2,children:[d.jsxs(x,{display:"flex",alignItems:"center",children:[d.jsx(Te,{sx:{color:"#16A34A",mr:1}}),d.jsx(j,{variant:"body1",children:"Active Licenses"})]}),d.jsx(m,{label:null!==O.activeLicenses?O.activeLicenses:"N/A",color:null!==O.activeLicenses?"success":"default",size:"small"})]}),O.expiringLicenses.map((e,s)=>d.jsx(x,{sx:{p:2,mb:1,bgcolor:e.expiresIn<=30?"rgba(239, 68, 68, 0.1)":"rgba(245, 158, 11, 0.1)",borderRadius:1,border:"1px solid",borderColor:e.expiresIn<=30?"rgba(239, 68, 68, 0.3)":"rgba(245, 158, 11, 0.3)"},children:d.jsxs(x,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[d.jsx(j,{variant:"body2",fontWeight:"500",children:e.name}),d.jsx(m,{label:`${e.expiresIn} days`,size:"small",color:e.expiresIn<=30?"error":"warning",icon:d.jsx(Fe,{})})]})},s))]})})})]}),d.jsxs(y,{container:!0,spacing:3,mb:4,children:[d.jsx(y,{item:!0,xs:12,md:6,children:d.jsx(v,{sx:{background:"linear-gradient(135deg, #1E293B 0%, #334155 100%)",border:"1px solid rgba(148, 163, 184, 0.1)",borderRadius:2},children:d.jsxs(f,{children:[d.jsx(j,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"Customer Acquisition Sources"}),d.jsx(x,{sx:{height:300,mt:2},children:d.jsx(le,{data:Z,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right",labels:{color:"#94A3B8",font:{size:11}}}}}})})]})})}),d.jsx(y,{item:!0,xs:12,md:6,children:d.jsx(v,{sx:{background:"linear-gradient(135deg, #1E293B 0%, #334155 100%)",border:"1px solid rgba(148, 163, 184, 0.1)",borderRadius:2},children:d.jsxs(f,{children:[d.jsx(j,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"Membership Tier Distribution"}),d.jsx(x,{sx:{height:300,mt:2},children:d.jsx(ce,{data:ee,options:se})})]})})})]}),F.length>0&&d.jsx(v,{sx:{background:"linear-gradient(135deg, #1E293B 0%, #334155 100%)",border:"1px solid rgba(148, 163, 184, 0.1)",borderRadius:2,mb:4},children:d.jsxs(f,{children:[d.jsxs(x,{display:"flex",alignItems:"center",mb:2,children:[d.jsx(We,{sx:{color:"#16A34A",mr:1}}),d.jsx(j,{variant:"h6",fontWeight:"bold",children:"Top Products"})]}),d.jsx(y,{container:!0,spacing:2,children:F.map((e,s)=>d.jsx(y,{item:!0,xs:12,sm:6,md:4,children:d.jsxs(x,{sx:{p:2,bgcolor:"rgba(30, 41, 59, 0.5)",borderRadius:1,border:"1px solid rgba(148, 163, 184, 0.1)"},children:[d.jsxs(x,{display:"flex",justifyContent:"space-between",alignItems:"start",mb:1,children:[d.jsx(j,{variant:"body1",fontWeight:"500",children:e.name}),d.jsx(m,{label:`#${s+1}`,size:"small",color:"primary"})]}),d.jsx(j,{variant:"body2",color:"textSecondary",sx:{mb:1},children:e.category}),d.jsx(j,{variant:"h6",color:"#16A34A",fontWeight:"bold",children:H(e.price)}),e.sku&&d.jsxs(j,{variant:"caption",color:"textSecondary",children:["SKU: ",e.sku]})]})},e.id))})]})}),d.jsx(j,{variant:"h5",fontWeight:"bold",sx:{mb:2,color:"#F59E0B"},children:"Active Alerts"}),d.jsxs(y,{container:!0,spacing:3,children:[d.jsxs(y,{item:!0,xs:12,md:6,children:[d.jsx(Y,{alerts:q.inventory,title:"Low Inventory Warnings",icon:d.jsx(We,{sx:{color:"#F59E0B"}})}),d.jsx(Y,{alerts:q.licenses,title:"Expiring Licenses",icon:d.jsx($e,{sx:{color:"#F59E0B"}})})]}),d.jsxs(y,{item:!0,xs:12,md:6,children:[d.jsx(Y,{alerts:q.transactions,title:"Failed Transactions",icon:d.jsx(De,{sx:{color:"#EF4444"}})}),d.jsx(Y,{alerts:q.system,title:"System Errors",icon:d.jsx(Pe,{sx:{color:"#EF4444"}})})]})]}),0===te&&d.jsx(v,{sx:{background:"linear-gradient(135deg, #1E293B 0%, #334155 100%)",border:"1px solid rgba(148, 163, 184, 0.1)",borderRadius:2},children:d.jsx(f,{children:d.jsxs(x,{display:"flex",alignItems:"center",justifyContent:"center",py:4,children:[d.jsx(ze,{sx:{color:"#10B981",mr:2,fontSize:48}}),d.jsx(j,{variant:"h6",color:"#10B981",children:"All systems operational - No active alerts"})]})})})]})};de.register(xe,he,je,me,ue,ye,pe,ge,be);const ks=()=>{const[e,s]=re.useState(0),[t,i]=re.useState(""),[r,n]=re.useState({customerId:"",domain:"",priority:"medium",requireApproval:!0}),[a,h]=re.useState([]),[k,te]=re.useState([]),[ie,ne]=re.useState([]),[ae,de]=re.useState({online:!0,currentLoad:23,queueDepth:5,errorRate:.02}),[xe,he]=re.useState({patterns:[],successRate:{},failureModes:[],suggestions:[]}),[je,me]=re.useState([]),[ue,pe]=re.useState([]),[ge,be]=re.useState({tasksPerDay:[],successRateOverTime:[],performanceImprovements:[],apiCosts:[]}),[ye,ke]=re.useState({emergencyStop:!1,approvalRequired:!0,sandboxMode:!1,rollbackEnabled:!0}),[Se,Ae]=re.useState(null),[Be,Te]=re.useState([]),[Fe,We]=re.useState({status:"all",dateRange:"week",searchTerm:""}),$e=re.useRef(null);re.useEffect(()=>(Oe(),as(),()=>{$e.current&&$e.current.close()}),[]);const Oe=()=>{const e=new EventSource("/api/agent/stream");$e.current=e,e.onmessage=e=>{const s=JSON.parse(e.data);ns(s)},e.onerror=e=>{setTimeout(Oe,5e3)}},ns=e=>{switch(e.type){case"task_update":xs(e.taskId,e.update);break;case"task_complete":hs(e.taskId,e.result);break;case"approval_required":js(e.task);break;case"learning_discovered":ms(e.learning);break;case"status_update":us(e.status);break;case"stream_message":ps(e.message)}},as=()=>c(void 0,null,function*(){try{const[e,s,t,i,r,n]=yield Promise.all([fetch("/api/agent/tasks"),fetch("/api/agent/history"),fetch("/api/agent/capabilities"),fetch("/api/agent/learnings"),fetch("/api/agent/metrics"),fetch("/api/agent/improvements")]);h(yield e.json()),ne(yield s.json()),me(yield t.json()),he(yield i.json()),be(yield r.json()),pe(yield n.json())}catch(e){}}),os=()=>c(void 0,null,function*(){if(!t.trim())return;const e={id:`task_${Date.now()}`,description:t,context:r,status:"pending",progress:0,steps:[],startTime:new Date};try{(yield fetch("/api/agent/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&(h([...a,e]),i(""),Te([]))}catch(s){}}),ls=e=>c(void 0,null,function*(){if(window.confirm(`Rollback last ${e} changes?`))try{yield fetch("/api/agent/rollback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({count:e})})}catch(s){}}),cs=()=>c(void 0,null,function*(){if(window.confirm("EMERGENCY STOP: This will halt all agent operations. Continue?"))try{yield fetch("/api/agent/emergency-stop",{method:"POST"}),ke(l(o({},ye),{emergencyStop:!0})),h([])}catch(e){}}),ds=()=>{const e=JSON.stringify(ie,null,2),s=new Blob([e],{type:"application/json"}),t=URL.createObjectURL(s),i=document.createElement("a");i.href=t,i.download=`agent-history-${Date.now()}.json`,i.click()},xs=(e,s)=>{h(a.map(t=>t.id===e?o(o({},t),s):t))},hs=(e,s)=>{const t=a.find(s=>s.id===e);t&&(ne([l(o(o({},t),s),{endTime:new Date}),...ie]),h(a.filter(s=>s.id!==e)))},js=e=>{te([...k,e])},ms=e=>{he(l(o({},xe),{patterns:[e,...xe.patterns]}))},us=e=>{de(o(o({},ae),e))},ps=e=>{Te(s=>[...s,e])},gs={labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Tasks Completed",data:[12,19,15,25,22,18,20],borderColor:"#16A34A",backgroundColor:"rgba(22, 163, 74, 0.1)",tension:.4}]},bs={labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:"Success Rate (%)",data:[85,88,92,95],borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]},ys={labels:["Data Processing","API Integration","Report Generation","System Maintenance","Other"],datasets:[{data:[30,25,20,15,10],backgroundColor:["#16A34A","#3B82F6","#F59E0B","#8B5CF6","#EF4444"]}]},vs={labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:"API Costs ($)",data:[45,52,48,50],backgroundColor:"#F59E0B"}]},fs=e=>{switch(e){case"running":return"primary";case"completed":return"success";case"failed":return"error";case"pending":return"warning";default:return"default"}},ks=e=>{switch(e){case"running":return d.jsx(Le,{});case"completed":return d.jsx(ze,{});case"failed":return d.jsx(Pe,{});case"pending":return d.jsx(Re,{});default:return d.jsx(rs,{})}},Ss=e=>{switch(e){case"low":return{color:"success",label:"Low Risk"};case"medium":return{color:"warning",label:"Medium Risk"};case"high":return{color:"error",label:"High Risk"};default:return{color:"default",label:"Unknown"}}},Cs=()=>d.jsxs(y,{container:!0,spacing:3,children:[d.jsx(y,{item:!0,xs:12,md:8,children:d.jsxs(v,{children:[d.jsx(T,{avatar:d.jsx(F,{sx:{bgcolor:"#16A34A"},children:d.jsx(Ue,{})}),title:"Execute New Task",subheader:"Describe the task for the autonomous agent"}),d.jsxs(f,{children:[d.jsx(W,{fullWidth:!0,multiline:!0,rows:4,label:"Task Description",placeholder:"Example: Generate a comprehensive sales report for Q4 2024...",value:t,onChange:e=>i(e.target.value),sx:{mb:3}}),d.jsxs(y,{container:!0,spacing:2,sx:{mb:3},children:[d.jsx(y,{item:!0,xs:12,sm:6,children:d.jsx(W,{fullWidth:!0,label:"Customer ID",placeholder:"CUST-12345",value:r.customerId,onChange:e=>n(l(o({},r),{customerId:e.target.value}))})}),d.jsx(y,{item:!0,xs:12,sm:6,children:d.jsx(W,{fullWidth:!0,label:"Domain",placeholder:"sales, operations, etc.",value:r.domain,onChange:e=>n(l(o({},r),{domain:e.target.value}))})}),d.jsx(y,{item:!0,xs:12,sm:6,children:d.jsxs($,{fullWidth:!0,children:[d.jsx(D,{children:"Priority"}),d.jsxs(P,{value:r.priority,label:"Priority",onChange:e=>n(l(o({},r),{priority:e.target.value})),children:[d.jsx(z,{value:"low",children:"Low"}),d.jsx(z,{value:"medium",children:"Medium"}),d.jsx(z,{value:"high",children:"High"}),d.jsx(z,{value:"urgent",children:"Urgent"})]})]})}),d.jsx(y,{item:!0,xs:12,sm:6,children:d.jsx(O,{control:d.jsx(L,{checked:r.requireApproval,onChange:e=>n(l(o({},r),{requireApproval:e.target.checked}))}),label:"Require Approval"})})]}),d.jsx(I,{variant:"contained",size:"large",startIcon:d.jsx(Le,{}),onClick:os,fullWidth:!0,disabled:!t.trim(),sx:{bgcolor:"#16A34A","&:hover":{bgcolor:"#15803D"}},children:"Execute Task"})]})]})}),d.jsx(y,{item:!0,xs:12,md:4,children:d.jsxs(v,{sx:{height:"100%"},children:[d.jsx(T,{avatar:d.jsx(F,{sx:{bgcolor:"#3B82F6"},children:d.jsx(Ce,{})}),title:"Real-Time Progress"}),d.jsx(f,{children:0===Be.length?d.jsx(x,{textAlign:"center",py:4,children:d.jsx(j,{color:"textSecondary",children:"No active execution"})}):d.jsx(M,{dense:!0,children:Be.map((e,s)=>d.jsxs(V,{children:[d.jsx(q,{children:d.jsx(ze,{fontSize:"small",color:"success"})}),d.jsx(N,{primary:e.action,secondary:e.timestamp})]},s))})})]})})]}),ws=()=>d.jsxs(v,{children:[d.jsx(T,{avatar:d.jsx(F,{sx:{bgcolor:"#F59E0B"},children:d.jsx(Ee,{})}),title:"Active Tasks",subheader:`${a.length} tasks currently running`}),d.jsx(f,{children:0===a.length?d.jsx(x,{textAlign:"center",py:4,children:d.jsx(j,{color:"textSecondary",children:"No active tasks"})}):d.jsx(M,{children:a.map(e=>d.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},children:d.jsxs(V,{sx:{bgcolor:"rgba(0,0,0,0.02)",borderRadius:2,mb:2,border:"1px solid rgba(0,0,0,0.1)"},children:[d.jsx(q,{children:ks(e.status)}),d.jsx(N,{primary:e.description,secondary:d.jsxs(x,{children:[d.jsxs(j,{variant:"caption",display:"block",children:["Started: ",new Date(e.startTime).toLocaleTimeString()]}),d.jsx(b,{variant:"determinate",value:e.progress||0,sx:{mt:1,mb:1}}),d.jsxs(j,{variant:"caption",children:["Progress: ",e.progress||0,"%"]}),e.steps&&e.steps.length>0&&d.jsx(x,{mt:1,children:e.steps.map((e,s)=>d.jsx(m,{label:e,size:"small",sx:{mr:.5,mt:.5}},s))})]})}),d.jsx(U,{children:d.jsx(u,{title:"Cancel Task",children:d.jsx(p,{edge:"end",onClick:()=>{return s=e.id,c(void 0,null,function*(){try{yield fetch(`/api/agent/tasks/${s}/cancel`,{method:"POST"}),h(a.filter(e=>e.id!==s))}catch(e){}});var s},color:"error",children:d.jsx(De,{})})})})]})},e.id))})})]}),As=()=>d.jsxs(v,{children:[d.jsx(T,{avatar:d.jsx(_,{badgeContent:k.length,color:"error",children:d.jsx(F,{sx:{bgcolor:"#EF4444"},children:d.jsx(Re,{})})}),title:"Approval Queue",subheader:"Tasks awaiting your approval"}),d.jsx(f,{children:0===k.length?d.jsxs(x,{textAlign:"center",py:4,children:[d.jsx(ze,{sx:{fontSize:60,color:"#16A34A",mb:2}}),d.jsx(j,{color:"textSecondary",children:"No pending approvals"})]}):d.jsx(M,{children:k.map(e=>d.jsx(v,{sx:{mb:2,bgcolor:"#FEF3C7"},children:d.jsxs(f,{children:[d.jsxs(x,{display:"flex",justifyContent:"space-between",mb:2,children:[d.jsx(j,{variant:"h6",children:e.description}),d.jsx(m,{label:Ss(e.risk).label,color:Ss(e.risk).color,size:"small"})]}),d.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Proposed Changes:"}),d.jsx(S,{variant:"outlined",sx:{p:2,mb:2,bgcolor:"white"},children:d.jsx("pre",{style:{margin:0,fontSize:"0.85rem",whiteSpace:"pre-wrap"},children:e.changes||"No changes specified"})}),d.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Risk Assessment:"}),d.jsx(g,{severity:Ss(e.risk).color,sx:{mb:2},children:e.riskAssessment||"Standard operation with minimal risk"}),d.jsxs(x,{display:"flex",gap:1,children:[d.jsx(I,{variant:"contained",color:"success",startIcon:d.jsx(_e,{}),onClick:()=>{return s=e.id,c(void 0,null,function*(){try{yield fetch(`/api/agent/tasks/${s}/approve`,{method:"POST"}),te(k.filter(e=>e.id!==s))}catch(e){}});var s},fullWidth:!0,children:"Approve"}),d.jsx(I,{variant:"outlined",color:"error",startIcon:d.jsx(He,{}),onClick:()=>{return s=e.id,c(void 0,null,function*(){try{yield fetch(`/api/agent/tasks/${s}/reject`,{method:"POST"}),te(k.filter(e=>e.id!==s))}catch(e){}});var s},fullWidth:!0,children:"Reject"})]})]})},e.id))})})]}),Bs=()=>d.jsxs(y,{container:!0,spacing:3,children:[d.jsx(y,{item:!0,xs:12,md:6,children:d.jsxs(v,{children:[d.jsx(T,{avatar:d.jsx(F,{sx:{bgcolor:"#8B5CF6"},children:d.jsx(Me,{})}),title:"Discovered Patterns"}),d.jsx(f,{children:d.jsx(M,{children:xe.patterns.map((e,s)=>d.jsxs(V,{children:[d.jsx(q,{children:d.jsx(Je,{color:"primary"})}),d.jsx(N,{primary:e.description,secondary:`Confidence: ${e.confidence}%`})]},s))})})]})}),d.jsx(y,{item:!0,xs:12,md:6,children:d.jsxs(v,{children:[d.jsx(T,{avatar:d.jsx(F,{sx:{bgcolor:"#3B82F6"},children:d.jsx(Ne,{})}),title:"Success Rate by Task Type"}),d.jsx(f,{children:d.jsx(x,{height:300,children:d.jsx(le,{data:ys,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})})]})}),d.jsx(y,{item:!0,xs:12,md:6,children:d.jsxs(v,{children:[d.jsx(T,{avatar:d.jsx(F,{sx:{bgcolor:"#EF4444"},children:d.jsx(Qe,{})}),title:"Common Failure Modes"}),d.jsx(f,{children:d.jsx(H,{children:d.jsxs(J,{size:"small",children:[d.jsx(Q,{children:d.jsxs(G,{children:[d.jsx(K,{children:"Failure Type"}),d.jsx(K,{align:"right",children:"Occurrences"}),d.jsx(K,{align:"right",children:"Impact"})]})}),d.jsx(Y,{children:xe.failureModes.map((e,s)=>d.jsxs(G,{children:[d.jsx(K,{children:e.type}),d.jsx(K,{align:"right",children:e.count}),d.jsx(K,{align:"right",children:d.jsx(m,{label:e.impact,size:"small",color:"High"===e.impact?"error":"warning"})})]},s))})]})})})]})}),d.jsx(y,{item:!0,xs:12,md:6,children:d.jsxs(v,{children:[d.jsx(T,{avatar:d.jsx(F,{sx:{bgcolor:"#16A34A"},children:d.jsx(we,{})}),title:"Optimization Suggestions"}),d.jsx(f,{children:d.jsx(M,{children:xe.suggestions.map((e,s)=>d.jsxs(g,{severity:"info",sx:{mb:1},children:[d.jsx(X,{children:e.title}),e.description]},s))})})]})})]}),Rs=()=>d.jsx(y,{container:!0,spacing:3,children:je.map(e=>d.jsx(y,{item:!0,xs:12,sm:6,md:4,children:d.jsxs(v,{sx:{height:"100%"},children:[d.jsx(T,{avatar:d.jsx(F,{sx:{bgcolor:e.color||"#3B82F6"},children:d.jsx(Ve,{})}),title:e.name,subheader:`Used ${e.usageCount} times`,action:d.jsx(m,{label:e.status,size:"small",color:"active"===e.status?"success":"default"})}),d.jsxs(f,{children:[d.jsx(j,{variant:"body2",color:"textSecondary",paragraph:!0,children:e.description}),d.jsxs(x,{display:"flex",justifyContent:"space-between",mb:2,children:[d.jsx(j,{variant:"caption",color:"textSecondary",children:"Success Rate"}),d.jsxs(j,{variant:"caption",fontWeight:"bold",children:[e.successRate,"%"]})]}),d.jsx(b,{variant:"determinate",value:e.successRate,sx:{mb:2}}),d.jsxs(x,{display:"flex",gap:1,children:[d.jsx(I,{size:"small",variant:"contained",startIcon:d.jsx(Le,{}),onClick:()=>(e=>c(void 0,null,function*(){try{const s=yield fetch(`/api/agent/capabilities/${e.id}/test`,{method:"POST"}),t=yield s.json();alert(`Test Result: ${t.success?"Success":"Failed"}\n${t.message}`)}catch(s){}}))(e),fullWidth:!0,children:"Test"}),d.jsx(I,{size:"small",variant:"outlined",startIcon:d.jsx(Ge,{}),fullWidth:!0,children:"Docs"})]})]})]})},e.id))}),Es=()=>{const e=ie.filter(e=>("all"===Fe.status||e.status===Fe.status)&&!(Fe.searchTerm&&!e.description.toLowerCase().includes(Fe.searchTerm.toLowerCase())));return d.jsxs(v,{children:[d.jsx(T,{avatar:d.jsx(F,{sx:{bgcolor:"#8B5CF6"},children:d.jsx(Ce,{})}),title:"Execution History",subheader:`${ie.length} total tasks`,action:d.jsx(I,{startIcon:d.jsx(Ke,{}),onClick:ds,children:"Export JSON"})}),d.jsxs(f,{children:[d.jsxs(x,{display:"flex",gap:2,mb:3,children:[d.jsx(W,{size:"small",placeholder:"Search tasks...",value:Fe.searchTerm,onChange:e=>We(l(o({},Fe),{searchTerm:e.target.value})),InputProps:{startAdornment:d.jsx(Ye,{sx:{mr:1,color:"action.disabled"}})},sx:{flexGrow:1}}),d.jsxs($,{size:"small",sx:{minWidth:120},children:[d.jsx(D,{children:"Status"}),d.jsxs(P,{value:Fe.status,label:"Status",onChange:e=>We(l(o({},Fe),{status:e.target.value})),children:[d.jsx(z,{value:"all",children:"All"}),d.jsx(z,{value:"completed",children:"Completed"}),d.jsx(z,{value:"failed",children:"Failed"})]})]})]}),d.jsx(H,{component:S,variant:"outlined",children:d.jsxs(J,{children:[d.jsx(Q,{children:d.jsxs(G,{children:[d.jsx(K,{children:"Task"}),d.jsx(K,{children:"Status"}),d.jsx(K,{children:"Duration"}),d.jsx(K,{children:"Started"}),d.jsx(K,{align:"right",children:"Actions"})]})}),d.jsx(Y,{children:e.map(e=>d.jsxs(G,{hover:!0,children:[d.jsx(K,{children:e.description}),d.jsx(K,{children:d.jsx(m,{label:e.status,color:fs(e.status),size:"small",icon:ks(e.status)})}),d.jsx(K,{children:e.duration?`${e.duration}s`:"N/A"}),d.jsx(K,{children:new Date(e.startTime).toLocaleString()}),d.jsxs(K,{align:"right",children:[d.jsx(u,{title:"Replay Task",children:d.jsx(p,{size:"small",onClick:()=>{return s=e.id,c(void 0,null,function*(){const e=ie.find(e=>e.id===s);e&&(i(e.description),n(e.context))});var s},children:d.jsx(Xe,{})})}),d.jsx(u,{title:"View Details",children:d.jsx(p,{size:"small",onClick:()=>Ae(e),children:d.jsx(Ge,{})})})]})]},e.id))})]})})]})]})},Is=()=>d.jsxs(v,{children:[d.jsx(T,{avatar:d.jsx(F,{sx:{bgcolor:"#F59E0B"},children:d.jsx(we,{})}),title:"Self-Improvement Proposals",subheader:"Agent-generated optimizations"}),d.jsx(f,{children:0===ue.length?d.jsx(x,{textAlign:"center",py:4,children:d.jsx(j,{color:"textSecondary",children:"No pending improvements"})}):ue.map(e=>d.jsxs(Z,{children:[d.jsx(ee,{expandIcon:d.jsx(Ze,{}),children:d.jsxs(x,{display:"flex",alignItems:"center",gap:2,width:"100%",children:[d.jsx(j,{variant:"h6",children:e.title}),d.jsx(m,{label:e.status,size:"small",color:"pending"===e.status?"warning":"success"})]})}),d.jsxs(se,{children:[d.jsx(j,{paragraph:!0,children:e.description}),d.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Expected Impact:"}),d.jsxs(x,{mb:2,children:[d.jsx(m,{label:`${e.speedup}x faster`,color:"success",sx:{mr:1}}),d.jsx(m,{label:`${e.costReduction}% cost reduction`,color:"primary",sx:{mr:1}}),d.jsx(m,{label:`${e.reliabilityImprovement}% more reliable`,color:"info"})]}),d.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Implementation Details:"}),d.jsx(S,{variant:"outlined",sx:{p:2,mb:2,bgcolor:"#F9FAFB"},children:d.jsx("pre",{style:{margin:0,fontSize:"0.85rem",whiteSpace:"pre-wrap"},children:e.implementation})}),"pending"===e.status&&d.jsxs(x,{display:"flex",gap:1,children:[d.jsx(I,{variant:"contained",color:"success",startIcon:d.jsx(_e,{}),fullWidth:!0,children:"Approve & Implement"}),d.jsx(I,{variant:"outlined",color:"error",startIcon:d.jsx(He,{}),fullWidth:!0,children:"Reject"})]}),"implemented"===e.status&&d.jsxs(g,{severity:"success",children:["Implemented on ",new Date(e.implementedAt).toLocaleString()]})]})]},e.id))})]}),Ts=()=>d.jsxs(y,{container:!0,spacing:3,children:[d.jsx(y,{item:!0,xs:12,md:3,children:d.jsx(v,{children:d.jsx(f,{children:d.jsxs(x,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[d.jsxs(x,{children:[d.jsx(j,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"Agent Status"}),d.jsx(m,{label:ae.online?"Online":"Offline",color:ae.online?"success":"error",icon:d.jsx(es,{})})]}),d.jsx(F,{sx:{bgcolor:ae.online?"#16A34A":"#EF4444"},children:d.jsx(Ue,{})})]})})})}),d.jsx(y,{item:!0,xs:12,md:3,children:d.jsx(v,{children:d.jsxs(f,{children:[d.jsxs(x,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[d.jsxs(x,{children:[d.jsx(j,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"Current Load"}),d.jsxs(j,{variant:"h4",fontWeight:"bold",children:[ae.currentLoad,"%"]})]}),d.jsx(F,{sx:{bgcolor:"#3B82F6"},children:d.jsx(Ee,{})})]}),d.jsx(b,{variant:"determinate",value:ae.currentLoad,sx:{mt:2}})]})})}),d.jsx(y,{item:!0,xs:12,md:3,children:d.jsx(v,{children:d.jsx(f,{children:d.jsxs(x,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[d.jsxs(x,{children:[d.jsx(j,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"Queue Depth"}),d.jsx(j,{variant:"h4",fontWeight:"bold",children:ae.queueDepth})]}),d.jsx(F,{sx:{bgcolor:"#F59E0B"},children:d.jsx(ss,{})})]})})})}),d.jsx(y,{item:!0,xs:12,md:3,children:d.jsx(v,{children:d.jsx(f,{children:d.jsxs(x,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[d.jsxs(x,{children:[d.jsx(j,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"Error Rate"}),d.jsxs(j,{variant:"h4",fontWeight:"bold",children:[(100*ae.errorRate).toFixed(2),"%"]})]}),d.jsx(F,{sx:{bgcolor:ae.errorRate>.05?"#EF4444":"#16A34A"},children:d.jsx(qe,{})})]})})})})]}),Fs=()=>d.jsxs(v,{children:[d.jsx(T,{avatar:d.jsx(F,{sx:{bgcolor:"#EF4444"},children:d.jsx(Ie,{})}),title:"Safety Controls",subheader:"Critical agent operation controls"}),d.jsxs(f,{children:[d.jsxs(g,{severity:"warning",sx:{mb:3},children:[d.jsx(X,{children:"Warning"}),"These controls affect critical agent operations. Use with caution."]}),d.jsxs(y,{container:!0,spacing:3,children:[d.jsx(y,{item:!0,xs:12,md:6,children:d.jsx(v,{variant:"outlined",sx:{bgcolor:"#FEE2E2",border:"2px solid #EF4444"},children:d.jsxs(f,{children:[d.jsxs(x,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,children:[d.jsx(j,{variant:"h6",color:"error",children:"Emergency Stop"}),d.jsx(ts,{color:"error",fontSize:"large"})]}),d.jsx(j,{variant:"body2",color:"textSecondary",paragraph:!0,children:"Immediately halt all agent operations and clear the task queue."}),d.jsx(I,{variant:"contained",color:"error",fullWidth:!0,size:"large",startIcon:d.jsx(ts,{}),onClick:cs,disabled:ye.emergencyStop,children:ye.emergencyStop?"Already Stopped":"Emergency Stop"})]})})}),d.jsx(y,{item:!0,xs:12,md:6,children:d.jsx(v,{variant:"outlined",children:d.jsxs(f,{children:[d.jsxs(x,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,children:[d.jsx(j,{variant:"h6",children:"Rollback Changes"}),d.jsx(is,{fontSize:"large",color:"primary"})]}),d.jsx(j,{variant:"body2",color:"textSecondary",paragraph:!0,children:"Undo the last N changes made by the agent."}),d.jsxs(x,{display:"flex",gap:1,children:[d.jsx(I,{variant:"outlined",onClick:()=>ls(1),fullWidth:!0,children:"Last 1"}),d.jsx(I,{variant:"outlined",onClick:()=>ls(5),fullWidth:!0,children:"Last 5"}),d.jsx(I,{variant:"outlined",onClick:()=>ls(10),fullWidth:!0,children:"Last 10"})]})]})})}),d.jsx(y,{item:!0,xs:12,md:4,children:d.jsx(v,{variant:"outlined",children:d.jsxs(f,{children:[d.jsx(O,{control:d.jsx(L,{checked:ye.approvalRequired,onChange:e=>ke(l(o({},ye),{approvalRequired:e.target.checked}))}),label:"Require Approval for All Tasks"}),d.jsx(j,{variant:"caption",display:"block",color:"textSecondary",children:"All tasks will need manual approval before execution"})]})})}),d.jsx(y,{item:!0,xs:12,md:4,children:d.jsx(v,{variant:"outlined",children:d.jsxs(f,{children:[d.jsx(O,{control:d.jsx(L,{checked:ye.sandboxMode,onChange:e=>ke(l(o({},ye),{sandboxMode:e.target.checked}))}),label:"Sandbox Mode"}),d.jsx(j,{variant:"caption",display:"block",color:"textSecondary",children:"Agent operates in isolated environment only"})]})})}),d.jsx(y,{item:!0,xs:12,md:4,children:d.jsx(v,{variant:"outlined",children:d.jsxs(f,{children:[d.jsx(O,{control:d.jsx(L,{checked:ye.rollbackEnabled,onChange:e=>ke(l(o({},ye),{rollbackEnabled:e.target.checked}))}),label:"Auto-Rollback on Failure"}),d.jsx(j,{variant:"caption",display:"block",color:"textSecondary",children:"Automatically undo changes when errors occur"})]})})})]})]})]}),Ws=()=>d.jsxs(y,{container:!0,spacing:3,children:[d.jsx(y,{item:!0,xs:12,md:6,children:d.jsxs(v,{children:[d.jsx(T,{title:"Tasks Per Day",subheader:"Daily task completion trends"}),d.jsx(f,{children:d.jsx(x,{height:300,children:d.jsx(oe,{data:gs,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}})})})]})}),d.jsx(y,{item:!0,xs:12,md:6,children:d.jsxs(v,{children:[d.jsx(T,{title:"Success Rate Over Time",subheader:"Weekly success rate improvements"}),d.jsx(f,{children:d.jsx(x,{height:300,children:d.jsx(oe,{data:bs,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{min:0,max:100}}}})})})]})}),d.jsx(y,{item:!0,xs:12,md:6,children:d.jsxs(v,{children:[d.jsx(T,{title:"API Usage Costs",subheader:"Weekly cost tracking"}),d.jsx(f,{children:d.jsx(x,{height:300,children:d.jsx(ce,{data:vs,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}})})})]})}),d.jsx(y,{item:!0,xs:12,md:6,children:d.jsxs(v,{children:[d.jsx(T,{title:"Performance Summary",subheader:"Key metrics at a glance"}),d.jsx(f,{children:d.jsxs(y,{container:!0,spacing:2,children:[d.jsx(y,{item:!0,xs:6,children:d.jsxs(x,{textAlign:"center",p:2,children:[d.jsx(j,{variant:"h3",color:"primary",fontWeight:"bold",children:"156"}),d.jsx(j,{variant:"body2",color:"textSecondary",children:"Tasks This Week"})]})}),d.jsx(y,{item:!0,xs:6,children:d.jsxs(x,{textAlign:"center",p:2,children:[d.jsx(j,{variant:"h3",color:"success.main",fontWeight:"bold",children:"95%"}),d.jsx(j,{variant:"body2",color:"textSecondary",children:"Success Rate"})]})}),d.jsx(y,{item:!0,xs:6,children:d.jsxs(x,{textAlign:"center",p:2,children:[d.jsx(j,{variant:"h3",color:"info.main",fontWeight:"bold",children:"2.3s"}),d.jsx(j,{variant:"body2",color:"textSecondary",children:"Avg Duration"})]})}),d.jsx(y,{item:!0,xs:6,children:d.jsxs(x,{textAlign:"center",p:2,children:[d.jsx(j,{variant:"h3",color:"warning.main",fontWeight:"bold",children:"$197"}),d.jsx(j,{variant:"body2",color:"textSecondary",children:"Monthly Cost"})]})})]})})]})})]});return d.jsxs(x,{sx:{p:3},children:[d.jsxs(x,{mb:4,children:[d.jsx(j,{variant:"h3",component:ve.h3,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},sx:{background:"linear-gradient(135deg, #16A34A 0%, #3B82F6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:800,mb:1},children:"Autonomous Agent Control Center"}),d.jsx(j,{variant:"h6",color:"textSecondary",children:"Monitor, control, and optimize your autonomous agent operations"})]}),d.jsx(S,{sx:{mb:3},children:d.jsxs(C,{value:e,onChange:(e,t)=>s(t),variant:"scrollable",scrollButtons:"auto",children:[d.jsx(w,{label:"Execute Task",icon:d.jsx(Le,{}),iconPosition:"start"}),d.jsx(w,{label:"Active Tasks",icon:d.jsx(Ee,{}),iconPosition:"start"}),d.jsx(w,{label:"Approvals",icon:d.jsx(Re,{}),iconPosition:"start"}),d.jsx(w,{label:"Learnings",icon:d.jsx(Me,{}),iconPosition:"start"}),d.jsx(w,{label:"Capabilities",icon:d.jsx(Ve,{}),iconPosition:"start"}),d.jsx(w,{label:"History",icon:d.jsx(Ce,{}),iconPosition:"start"}),d.jsx(w,{label:"Improvements",icon:d.jsx(we,{}),iconPosition:"start"}),d.jsx(w,{label:"System Health",icon:d.jsx(qe,{}),iconPosition:"start"}),d.jsx(w,{label:"Safety",icon:d.jsx(Ie,{}),iconPosition:"start"}),d.jsx(w,{label:"Metrics",icon:d.jsx(Ne,{}),iconPosition:"start"})]})}),d.jsx(fe,{mode:"wait",children:d.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[0===e&&d.jsx(Cs,{}),1===e&&d.jsx(ws,{}),2===e&&d.jsx(As,{}),3===e&&d.jsx(Bs,{}),4===e&&d.jsx(Rs,{}),5===e&&d.jsx(Es,{}),6===e&&d.jsx(Is,{}),7===e&&d.jsx(Ts,{}),8===e&&d.jsx(Fs,{}),9===e&&d.jsx(Ws,{})]},e)}),d.jsxs(A,{open:!!Se,onClose:()=>Ae(null),maxWidth:"md",fullWidth:!0,children:[d.jsxs(B,{children:["Task Details",d.jsx(p,{onClick:()=>Ae(null),sx:{position:"absolute",right:8,top:8},children:d.jsx(De,{})})]}),d.jsx(R,{dividers:!0,children:Se&&d.jsxs(x,{children:[d.jsx(j,{variant:"h6",gutterBottom:!0,children:Se.description}),d.jsxs(y,{container:!0,spacing:2,sx:{mt:2},children:[d.jsxs(y,{item:!0,xs:6,children:[d.jsx(j,{variant:"caption",color:"textSecondary",children:"Status"}),d.jsx(j,{variant:"body1",children:d.jsx(m,{label:Se.status,color:fs(Se.status),size:"small"})})]}),d.jsxs(y,{item:!0,xs:6,children:[d.jsx(j,{variant:"caption",color:"textSecondary",children:"Duration"}),d.jsx(j,{variant:"body1",children:Se.duration?`${Se.duration}s`:"N/A"})]}),d.jsxs(y,{item:!0,xs:12,children:[d.jsx(j,{variant:"caption",color:"textSecondary",children:"Started"}),d.jsx(j,{variant:"body1",children:new Date(Se.startTime).toLocaleString()})]})]}),Se.result&&d.jsxs(x,{mt:3,children:[d.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Result:"}),d.jsx(S,{variant:"outlined",sx:{p:2,bgcolor:"#F9FAFB"},children:d.jsx("pre",{style:{margin:0,fontSize:"0.85rem",whiteSpace:"pre-wrap"},children:JSON.stringify(Se.result,null,2)})})]})]})}),d.jsx(E,{children:d.jsx(I,{onClick:()=>Ae(null),children:"Close"})})]})]})},Ss=()=>{var e;const[s,t]=re.useState("overview"),[i,r]=re.useState("text"),[n,a]=re.useState(!0),[h,g]=re.useState({}),[k,S]=re.useState(!1),[C,w]=re.useState({}),[A,B]=re.useState(null),[R,E]=re.useState(!1),T={overview:{name:"Texas Takeover Overview",icon:d.jsx(xs,{}),color:"#DC2626",component:null,metrics:["revenue","customers","orders","compliance"]},executive:{name:"Executive Intelligence",icon:d.jsx(Ne,{}),color:"#3B82F6",component:fs,metrics:["revenue","services","alerts","analytics"]},empire:{name:"Empire Operations",icon:d.jsx(ds,{}),color:"#8B5CF6",component:gs,metrics:["engines","domains","products","vision"]},square:{name:"Square Live Cockpit",icon:d.jsx(cs,{}),color:"#F59E0B",component:bs,metrics:["transactions","inventory","customers","compliance"]},autonomous:{name:"AI Agent Swarm",icon:d.jsx(ls,{}),color:"#EC4899",component:ks,metrics:["agents","tasks","learning","performance"]},main:{name:"Core Dashboard",icon:d.jsx(Ee,{}),color:"#14B8A6",component:ae,metrics:["system","health","queues","logs"]}},F={revenue:{name:"Revenue Analytics",icon:d.jsx(Se,{}),views:["daily","weekly","monthly","yearly","forecasts"]},customers:{name:"Customer Intelligence",icon:d.jsx(Be,{}),views:["acquisition","retention","lifetime_value","segments"]},inventory:{name:"Inventory Management",icon:d.jsx(We,{}),views:["stock_levels","low_stock","reorder","suppliers"]},compliance:{name:"Compliance Center",icon:d.jsx(ps,{}),views:["licenses","age_verification","coa_status","audits"]},analytics:{name:"Deep Analytics",icon:d.jsx(us,{}),views:["trends","predictions","cohorts","attribution"]}},W=re.useCallback(()=>c(void 0,null,function*(){S(!0);try{const e="http://localhost",[s,t,i]=yield Promise.all([fetch(`${e}:3005/api/bigquery/dashboard`).then(e=>e.json()).catch(()=>({})),fetch(`${e}:4002/health`).then(e=>e.json()).catch(()=>({})),fetch(`${e}:5001/api/crisis/analytics`).then(e=>e.json()).catch(()=>({}))]);g({revenue:s.revenue||0,customers:s.customers||0,orders:s.orders||0,reasoning:t.status||"unknown",crisisConsults:i.totalConsultations||0,timestamp:(new Date).toISOString()})}catch(e){}finally{S(!1)}}),[]);re.useEffect(()=>{W();const e=setInterval(W,3e4);return()=>clearInterval(e)},[W]);const $=()=>d.jsxs(x,{sx:{display:"flex",gap:1,mb:2},children:[d.jsx(u,{title:"Voice Mode - Speak your commands",children:d.jsx(p,{onClick:()=>r("voice"),sx:{bgcolor:"voice"===i?"#10B981":"transparent",color:"voice"===i?"white":"#94A3B8","&:hover":{bgcolor:"#059669"}},children:d.jsx(hs,{})})}),d.jsx(u,{title:"Video Mode - Visual analysis",children:d.jsx(p,{onClick:()=>r("video"),sx:{bgcolor:"video"===i?"#3B82F6":"transparent",color:"video"===i?"white":"#94A3B8","&:hover":{bgcolor:"#2563EB"}},children:d.jsx(js,{})})}),d.jsx(u,{title:"Text Mode - Type your queries",children:d.jsx(p,{onClick:()=>r("text"),sx:{bgcolor:"text"===i?"#8B5CF6":"transparent",color:"text"===i?"white":"#94A3B8","&:hover":{bgcolor:"#7C3AED"}},children:d.jsx(ms,{})})})]}),D=({title:e,value:s,icon:t,color:i,trend:r})=>d.jsx(ve.div,{whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:300},children:d.jsx(v,{sx:{background:`linear-gradient(135deg, ${i}15 0%, ${i}05 100%)`,border:`1px solid ${i}30`,cursor:"pointer"},children:d.jsxs(f,{children:[d.jsxs(x,{sx:{display:"flex",alignItems:"center",mb:1},children:[d.jsx(x,{sx:{color:i,mr:1},children:t}),d.jsx(j,{variant:"body2",sx:{color:"#94A3B8"},children:e})]}),d.jsx(j,{variant:"h4",sx:{color:"white",fontWeight:"bold",mb:.5},children:s}),r&&d.jsxs(x,{sx:{display:"flex",alignItems:"center",gap:.5},children:[d.jsx(we,{sx:{fontSize:16,color:"#10B981"}}),d.jsx(j,{variant:"caption",sx:{color:"#10B981"},children:r})]})]})})}),P=()=>d.jsxs(te,{variant:"permanent",open:n,sx:{width:n?280:64,flexShrink:0,"& .MuiDrawer-paper":{width:n?280:64,boxSizing:"border-box",bgcolor:"#0F172A",borderRight:"1px solid #334155",transition:"width 0.3s"}},children:[d.jsxs(x,{sx:{p:2,borderBottom:"1px solid #334155"},children:[d.jsx(j,{variant:"h6",sx:{color:"#10B981",fontWeight:"bold",display:n?"block":"none"},children:" LivHana Empire"}),d.jsx(j,{variant:"caption",sx:{color:"#64748B",display:n?"block":"none"},children:"Ultimate Cloud Cockpit"})]}),d.jsx(M,{children:Object.entries(T).map(([e,i])=>{var r;return d.jsxs(ne.Fragment,{children:[d.jsxs(V,{button:!0,selected:s===e,onClick:()=>{t(e),n||a(!0)},sx:{"&.Mui-selected":{bgcolor:`${i.color}20`,borderLeft:`3px solid ${i.color}`}},children:[d.jsx(q,{sx:{color:i.color,minWidth:n?40:"auto"},children:i.icon}),n&&d.jsx(N,{primary:i.name,primaryTypographyProps:{sx:{color:"white",fontSize:"0.9rem"}}}),n&&i.metrics&&d.jsx(p,{size:"small",onClick:s=>{s.stopPropagation(),(e=>{w(s=>l(o({},s),{[e]:!s[e]}))})(e)},children:d.jsx(Ze,{sx:{color:"#64748B",transform:C[e]?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})})]}),n&&d.jsx(ie,{in:C[e],timeout:"auto",unmountOnExit:!0,children:d.jsx(M,{component:"div",disablePadding:!0,children:null==(r=i.metrics)?void 0:r.map(s=>{var i,r;return d.jsxs(V,{button:!0,sx:{pl:4},onClick:()=>{t(`${e}.${s}`)},children:[d.jsx(q,{sx:{minWidth:30},children:null==(i=F[s])?void 0:i.icon}),d.jsx(N,{primary:(null==(r=F[s])?void 0:r.name)||s,primaryTypographyProps:{sx:{color:"#94A3B8",fontSize:"0.85rem"}}})]},s)})})})]},e)})}),d.jsx(x,{sx:{position:"absolute",bottom:16,left:n?16:8},children:d.jsx(p,{onClick:()=>a(!n),sx:{color:"#64748B"},children:d.jsx(os,{})})})]}),z=()=>d.jsxs(x,{children:[d.jsxs(y,{container:!0,spacing:2,sx:{mb:3},children:[d.jsx(y,{item:!0,xs:12,sm:6,md:3,children:d.jsx(D,{title:"Today's Revenue",value:`$${(h.revenue||0).toLocaleString()}`,icon:d.jsx(Se,{}),color:"#10B981",trend:h.revenueTrend||"No data"})}),d.jsx(y,{item:!0,xs:12,sm:6,md:3,children:d.jsx(D,{title:"Active Customers",value:(h.customers||0).toLocaleString(),icon:d.jsx(Be,{}),color:"#3B82F6",trend:h.customersTrend||"No data"})}),d.jsx(y,{item:!0,xs:12,sm:6,md:3,children:d.jsx(D,{title:"Total Orders",value:(h.orders||0).toLocaleString(),icon:d.jsx(cs,{}),color:"#F59E0B",trend:h.ordersTrend||"No data"})}),d.jsx(y,{item:!0,xs:12,sm:6,md:3,children:d.jsx(D,{title:"Crisis Consults",value:(h.crisisConsults||0).toLocaleString(),icon:d.jsx(Ie,{}),color:"#EC4899",trend:h.consultsTrend||"No data"})})]}),d.jsx(j,{variant:"h6",sx:{color:"white",mb:2,fontWeight:"bold"},children:" Quick Access - All Business Layers"}),d.jsx(y,{container:!0,spacing:2,children:Object.entries(T).filter(([e])=>"overview"!==e).map(([e,s])=>{var i;return d.jsx(y,{item:!0,xs:12,sm:6,md:4,children:d.jsx(ve.div,{whileHover:{scale:1.03,y:-4},whileTap:{scale:.98},children:d.jsx(v,{onClick:()=>t(e),sx:{background:`linear-gradient(135deg, ${s.color}20 0%, ${s.color}05 100%)`,border:`1px solid ${s.color}40`,cursor:"pointer",transition:"all 0.3s"},children:d.jsxs(f,{children:[d.jsxs(x,{sx:{display:"flex",alignItems:"center",mb:2},children:[d.jsx(x,{sx:{color:s.color,mr:2,fontSize:32},children:s.icon}),d.jsx(j,{variant:"h6",sx:{color:"white",fontWeight:"bold"},children:s.name})]}),d.jsx(x,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:null==(i=s.metrics)?void 0:i.map(e=>d.jsx(m,{label:e,size:"small",sx:{bgcolor:`${s.color}15`,color:s.color,fontSize:"0.75rem"}},e))})]})})})},e)})})]});return d.jsxs(x,{sx:{display:"flex",minHeight:"100vh",bgcolor:"#0F172A"},children:[d.jsx(P,{}),d.jsxs(x,{sx:{flexGrow:1,p:3,ml:0,transition:"margin 0.3s"},children:[d.jsxs(x,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,pb:2,borderBottom:"1px solid #334155"},children:[d.jsxs(x,{children:[d.jsx(j,{variant:"h4",sx:{color:"white",fontWeight:"bold"},children:(null==(e=T[s.split(".")[0]])?void 0:e.name)||"Texas Takeover Overview"}),d.jsxs(j,{variant:"body2",sx:{color:"#64748B"},children:["Real-time intelligence  ",(new Date).toLocaleString(),"  Mode: ",i.toUpperCase()]})]}),d.jsxs(x,{sx:{display:"flex",gap:2,alignItems:"center"},children:[d.jsx($,{}),d.jsx(u,{title:"Refresh data",children:d.jsx(p,{onClick:W,sx:{color:"#64748B"},disabled:k,children:d.jsx(ke,{sx:{animation:k?"spin 1s linear infinite":"none"}})})}),d.jsx(u,{title:"Fullscreen",children:d.jsx(p,{sx:{color:"#64748B"},children:d.jsx(ns,{})})}),d.jsx(u,{title:"Customize",children:d.jsx(p,{onClick:()=>E(!R),sx:{color:R?"#10B981":"#64748B"},children:d.jsx(as,{})})}),d.jsx(m,{icon:d.jsx(ss,{}),label:"LIVE",sx:{bgcolor:"#10B98120",color:"#10B981",fontWeight:"bold",animation:"pulse 2s infinite"}})]})]}),k&&d.jsx(b,{sx:{mb:2}}),d.jsx(fe,{mode:"wait",children:d.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(()=>{var e;if(s.includes(".")){const[t,i]=s.split(".");return d.jsxs(x,{children:[d.jsx(j,{variant:"h5",sx:{color:"white",mb:2},children:(null==(e=F[i])?void 0:e.name)||i}),d.jsxs(j,{variant:"body2",sx:{color:"#94A3B8",mb:3},children:["Deep dive into ",i," - Real-time data and analytics"]}),d.jsx(v,{sx:{bgcolor:"#1E293B",p:3},children:d.jsxs(j,{sx:{color:"white"},children:["Sub-layer view for ",i," coming soon..."]})})]})}if("overview"===s)return d.jsx(z,{});const t=T[s];if(t&&t.component){const e=t.component;return d.jsx(e,{})}return d.jsx(z,{})})()},s)}),R&&d.jsxs(x,{sx:{position:"fixed",top:0,right:0,width:300,height:"100vh",bgcolor:"#1E293B",borderLeft:"1px solid #334155",p:3,zIndex:1e3},children:[d.jsx(j,{variant:"h6",sx:{color:"white",mb:2},children:" Customize Cockpit"}),d.jsx(j,{variant:"body2",sx:{color:"#94A3B8",mb:2},children:"Drag widgets, change layouts, set preferences - Coming soon!"}),d.jsx(I,{fullWidth:!0,variant:"outlined",onClick:()=>E(!1),children:"Close"})]})]}),d.jsx("style",{children:"\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.5; }\n        }\n      "})]})};export{Ss as default};
