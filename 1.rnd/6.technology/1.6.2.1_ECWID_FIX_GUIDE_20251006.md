<!-- Optimized: 2025-10-06 -->
<!-- RPM: 1.6.2.1.1.6.2.1_ECWID_FIX_GUIDE_20251006 -->
<!-- Session: E2E RPM DNA Application -->
<!-- AOM: RND (Reggie & Dro) -->
<!-- COI: TECHNOLOGY -->
<!-- RPM: HIGH -->
<!-- ACTION: BUILD -->

# ECWID CATEGORY BOX FIX - COMPLETE GUIDE

## üéØ TIER 1 SOLUTIONS (Choose One)

---

## ‚úÖ OPTION 1: API FIX (FASTEST - 2 MINUTES)

**Best for**: Zero human interaction, fully automated

### Setup (One-Time)

1. **Get Ecwid API Token**:

   ```
   https://my.ecwid.com/cp/
   ‚Üí Apps
   ‚Üí API
   ‚Üí Create new token
   ‚Üí Grant "Update store profile" permission
   ‚Üí Copy token
   ```

2. **Set Environment Variables**:

   ```bash
   export ECWID_STORE_ID="117254578"
   export ECWID_API_TOKEN="your-token-here"
   ```

3. **Run Fix**:

   ```bash
   node automation/ecwid-api-client.js
   ```

### What It Does

- Connects to Ecwid API
- Gets current CSS
- Appends category fix
- Saves changes
- **NO BROWSER NEEDED**

---

## ‚úÖ OPTION 2: PLAYWRIGHT AUTOMATION (3 MINUTES)

**Best for**: Visual verification, browser-based

### Setup

1. **Set Credentials**:

   ```bash
   export ECWID_EMAIL="your-email@example.com"
   export ECWID_PASSWORD="your-password"
   ```

2. **Run Automation**:

   ```bash
   node automation/ecwid-category-fix.js
   ```

### What It Does

- Opens browser (you can watch)
- Logs into Ecwid
- Navigates to Custom CSS
- Injects fix
- Saves changes
- Takes screenshots for verification

---

## ‚úÖ OPTION 3: MANUAL FIX (5 MINUTES)

**Best for**: First time, learning the process

### Steps

1. **Login to Ecwid**:

   ```
   https://my.ecwid.com/cp/
   ```

2. **Navigate to Design**:

   ```
   Left menu ‚Üí Design ‚Üí Themes ‚Üí Customize
   ```

3. **Open Custom CSS**:

   ```
   Click "Edit CSS" button
   OR
   Scroll to "Custom CSS" section
   ```

4. **Paste This CSS** (at the bottom):

   ```css
   /* CATEGORY BOX TEXT FIX */
   .ec-store .grid-category__title,
   .ec-store .grid-category__name,
   .ec-store .category-card__title,
   .ec-store .category-card__name,
   .ec-category__title,
   .category-box-text,
   [class*="category"] [class*="title"],
   [class*="category"] [class*="name"] {
     color: #000000 !important;
     opacity: 1 !important;
     visibility: visible !important;
     display: block !important;
   }

   .ec-store .grid-category:hover .grid-category__title,
   .ec-store .category-card:hover .category-card__title {
     color: #2D5F3F !important;
   }

   @media (max-width: 768px) {
     .ec-store .grid-category__title,
     .ec-store .category-card__title {
       color: #000000 !important;
       font-size: 16px !important;
       font-weight: 700 !important;
     }
   }
   ```

5. **Save & Publish**:

   ```
   Click "Save"
   Wait 30 seconds for cache to clear
   ```

6. **Verify**:

   ```
   Visit: https://reggieanddro.com/products
   Hard refresh: Cmd+Shift+R (Mac) or Ctrl+Shift+R (Windows)
   Check category boxes
   ```

---

## ‚úÖ OPTION 4: MIDDLEWARE INJECTION (ADVANCED)

**Best for**: Dynamic fixes, A/B testing, no Ecwid access needed

### How It Works

- Intercept HTML responses from Ecwid
- Inject CSS before sending to browser
- No changes to Ecwid itself

### Implementation

Create proxy service:

```javascript
// automation/ecwid-proxy.js
import express from 'express';
import { createProxyMiddleware } from 'http-proxy-middleware';

const app = express();

app.use('/products', createProxyMiddleware({
  target: 'https://reggieanddro.com',
  changeOrigin: true,
  onProxyRes: (proxyRes, req, res) => {
    // Inject CSS fix into HTML
    const _write = res.write;
    const _end = res.end;
    let body = '';

    res.write = function(chunk) {
      body += chunk;
    };

    res.end = function() {
      // Inject CSS before </head>
      body = body.replace('</head>', `
        <style>
        /* CATEGORY FIX */
        .ec-store .grid-category__title { color: #000 !important; }
        </style>
        </head>
      `);

      _write.call(res, body);
      _end.call(res);
    };
  }
}));

app.listen(3000, () => {
  console.log('Proxy running on http://localhost:3000/products');
});
```

---

## üöÄ RECOMMENDED APPROACH

### For Jesse (Owner)

**Use Option 1 (API)** - Fastest, fully automated, no browser needed

**Command**:

```bash
# One-time setup
export ECWID_STORE_ID="117254578"
export ECWID_API_TOKEN="secret_xxx" # Get from Ecwid admin

# Run fix
node automation/ecwid-api-client.js
```

**Time**: 2 minutes
**Risk**: Zero (reversible)
**Human interaction**: Zero (after setup)

---

## üìä COMPARISON

| Option | Time | Automation | Reversible | Browser Needed | Risk |
|--------|------|------------|------------|----------------|------|
| **1. API** | 2 min | 100% | ‚úÖ | ‚ùå | Zero |
| **2. Playwright** | 3 min | 90% | ‚úÖ | ‚úÖ (auto) | Low |
| **3. Manual** | 5 min | 0% | ‚úÖ | ‚úÖ (you) | Low |
| **4. Middleware** | 30 min | 100% | ‚úÖ | ‚ùå | Medium |

---

## ‚ö° QUICK START (RIGHT NOW)

### Step 1: Get API Token (60 seconds)

```
https://my.ecwid.com/cp/
‚Üí Login
‚Üí Apps ‚Üí API ‚Üí Create token
‚Üí Copy token
```

### Step 2: Run Fix (30 seconds)

```bash
cd /Users/jesseniesen/LivHana-Trinity-Local/LivHana-SoT

export ECWID_STORE_ID="117254578"
export ECWID_API_TOKEN="paste-token-here"

node automation/ecwid-api-client.js
```

### Step 3: Verify (30 seconds)

```
Visit: https://reggieanddro.com/products
Hard refresh
Check categories
‚úÖ DONE
```

---

## üîß TROUBLESHOOTING

### "Cannot find module 'node-fetch'"

```bash
cd /Users/jesseniesen/LivHana-Trinity-Local/LivHana-SoT
npm install node-fetch
```

### "401 Unauthorized"

- Token is wrong or expired
- Get new token from Ecwid admin

### "403 Forbidden"

- Token doesn't have "Update store profile" permission
- Recreate token with correct permissions

### "Changes not visible"

- Hard refresh browser (Cmd+Shift+R)
- Wait 60 seconds for CDN cache
- Clear browser cache

---

## üìû NEXT: AGE VERIFICATION FIX

After category boxes are fixed, we'll tackle age verification with same approach:

**3 Options**:

1. API - Update store settings
2. Playwright - Automate admin panel
3. Custom middleware - Inject verification logic

**Choose your path and let me execute.**
