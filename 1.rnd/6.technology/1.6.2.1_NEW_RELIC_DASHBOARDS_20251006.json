{
  "name": "LivHana System Health Dashboard",
  "description": "Comprehensive system health and performance monitoring",
  "permissions": "PUBLIC_READ_WRITE",
  "pages": [
    {
      "name": "System Overview",
      "description": "High-level system health metrics",
      "widgets": [
        {
          "title": "Service Health Status",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT count(*) as 'Requests' FROM Transaction WHERE appName LIKE 'LivHana%' FACET appName SINCE 5 minutes ago"
              }
            ]
          },
          "visualization": "billboard"
        },
        {
          "title": "Error Rate (%)",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT percentage(count(*), WHERE error IS true) as 'Error Rate' FROM Transaction WHERE appName LIKE 'LivHana%' FACET appName TIMESERIES SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "line"
        },
        {
          "title": "Response Time (P95)",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT percentile(duration, 95) as 'P95 Response Time' FROM Transaction WHERE appName LIKE 'LivHana%' FACET appName TIMESERIES SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "line"
        },
        {
          "title": "Throughput (requests/min)",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT rate(count(*), 1 minute) as 'Requests/min' FROM Transaction WHERE appName LIKE 'LivHana%' FACET appName TIMESERIES SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "line"
        },
        {
          "title": "Top 5 Slowest Endpoints",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT average(duration) as 'Avg Duration' FROM Transaction WHERE appName LIKE 'LivHana%' FACET name SINCE 1 hour ago LIMIT 5"
              }
            ]
          },
          "visualization": "table"
        },
        {
          "title": "Error Types",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT count(*) FROM TransactionError WHERE appName LIKE 'LivHana%' FACET error.class SINCE 1 hour ago LIMIT 10"
              }
            ]
          },
          "visualization": "pie"
        }
      ]
    },
    {
      "name": "API Performance",
      "description": "Detailed API endpoint performance metrics",
      "widgets": [
        {
          "title": "Endpoint Response Times",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT percentile(duration, 50, 95, 99) FROM Transaction WHERE appName LIKE 'LivHana%' AND transactionType = 'Web' FACET name SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "table"
        },
        {
          "title": "Endpoint Throughput",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT rate(count(*), 1 minute) as 'req/min' FROM Transaction WHERE appName LIKE 'LivHana%' FACET name TIMESERIES SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "line"
        },
        {
          "title": "Endpoint Error Rates",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT percentage(count(*), WHERE error IS true) FROM Transaction WHERE appName LIKE 'LivHana%' FACET name SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "bar"
        },
        {
          "title": "Database Query Performance",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT average(duration) as 'Avg Duration (ms)' FROM Span WHERE category = 'datastore' FACET db.operation, db.instance SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "table"
        },
        {
          "title": "External API Calls",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT average(duration) as 'Avg Duration (ms)', count(*) as 'Count' FROM Span WHERE category = 'http' AND span.kind = 'client' FACET http.url SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "table"
        }
      ]
    },
    {
      "name": "Infrastructure",
      "description": "System resource utilization metrics",
      "widgets": [
        {
          "title": "CPU Usage (%)",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT average(cpuPercent) FROM SystemSample WHERE hostname LIKE 'livhana%' FACET hostname TIMESERIES SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "line"
        },
        {
          "title": "Memory Usage (%)",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT average(memoryUsedPercent) FROM SystemSample WHERE hostname LIKE 'livhana%' FACET hostname TIMESERIES SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "line"
        },
        {
          "title": "Disk Usage (%)",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT average(diskUsedPercent) FROM StorageSample WHERE hostname LIKE 'livhana%' FACET hostname TIMESERIES SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "line"
        },
        {
          "title": "Network I/O",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT average(receiveBytesPerSecond) as 'Receive', average(transmitBytesPerSecond) as 'Transmit' FROM NetworkSample WHERE hostname LIKE 'livhana%' TIMESERIES SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "line"
        }
      ]
    },
    {
      "name": "Queue & Jobs",
      "description": "Background job processing metrics",
      "widgets": [
        {
          "title": "Queue Depth",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT latest(queue_depth) FROM Metric WHERE metricName = 'queue_depth' FACET queue_name TIMESERIES SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "line"
        },
        {
          "title": "Job Processing Time",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT percentile(job_processing_duration_seconds, 50, 95, 99) FROM Metric WHERE metricName = 'job_processing_duration_seconds' FACET job_name SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "table"
        },
        {
          "title": "Jobs Processed",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT sum(jobs_processed_total) FROM Metric WHERE metricName = 'jobs_processed_total' FACET job_name, status TIMESERIES SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "area"
        }
      ]
    },
    {
      "name": "AI Monitoring",
      "description": "AI model API call performance",
      "widgets": [
        {
          "title": "AI Model Calls",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT count(*) FROM Span WHERE category = 'ai' FACET ai.model TIMESERIES SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "line"
        },
        {
          "title": "AI Response Times",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT percentile(duration, 50, 95, 99) FROM Span WHERE category = 'ai' FACET ai.model SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "bar"
        },
        {
          "title": "Token Usage",
          "configuration": {
            "queries": [
              {
                "accountId": 0,
                "query": "SELECT sum(ai.token.prompt) as 'Prompt Tokens', sum(ai.token.completion) as 'Completion Tokens' FROM Span WHERE category = 'ai' FACET ai.model TIMESERIES SINCE 1 hour ago"
              }
            ]
          },
          "visualization": "area"
        }
      ]
    }
  ]
}
